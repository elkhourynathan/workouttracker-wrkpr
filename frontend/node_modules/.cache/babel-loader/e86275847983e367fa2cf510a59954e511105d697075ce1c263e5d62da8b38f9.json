{"ast":null,"code":"var _jsxFileName = \"/Users/nathanelkhoury/Desktop/Programming/projects/workout-tracker/workout-tracker-frontend/src/components/login.js\",\n  _s = $RefreshSig$();\nimport { useNavigate } from 'react-router-dom';\nimport { useEffect } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Login() {\n  _s();\n  const navigate = useNavigate();\n  function handleLogin(e) {\n    e.preventDefault();\n    const form = e.target;\n    const user = {\n      username: form[0].value,\n      password: form[1].value\n    };\n    fetch('/login', {\n      method: 'POST',\n      headers: {\n        'Content-type': 'application/json'\n      },\n      body: JSON.stringify(user)\n    }).then(res => res.json()).then(data => {\n      localStorage.setItem('token', data.token);\n    });\n  }\n  useEffect(() => {\n    fetch('/isUserAuth', {\n      headers: {\n        'x-access-token': localStorage.getItem('token')\n      }\n    }).then(res => res.json()).then(data => data.isLoggedIn ? navigate.push('/dashboard') : null);\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"form\", {\n    onSubmit: event => handleLogin(event),\n    children: [/*#__PURE__*/_jsxDEV(\"input\", {\n      required: true,\n      type: \"email\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      required: true,\n      type: \"password\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"submit\",\n      value: \"Submit\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 39,\n    columnNumber: 5\n  }, this);\n}\n_s(Login, \"0pNeyzXk/ByIxyERsdaIrG6js9s=\", false, function () {\n  return [useNavigate];\n});\n_c = Login;\nexport { Login };\nvar _c;\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["useNavigate","useEffect","jsxDEV","_jsxDEV","Login","_s","navigate","handleLogin","e","preventDefault","form","target","user","username","value","password","fetch","method","headers","body","JSON","stringify","then","res","json","data","localStorage","setItem","token","getItem","isLoggedIn","push","onSubmit","event","children","required","type","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/Users/nathanelkhoury/Desktop/Programming/projects/workout-tracker/workout-tracker-frontend/src/components/login.js"],"sourcesContent":["import { useNavigate } from 'react-router-dom';\nimport { useEffect } from 'react';\n\nfunction Login() {\n  const navigate = useNavigate();\n\n  function handleLogin(e) {\n    e.preventDefault();\n    const form = e.target;\n    const user = {\n      username: form[0].value,\n      password: form[1].value,\n    };\n\n    fetch('/login', {\n      method: 'POST',\n      headers: {\n        'Content-type': 'application/json',\n      },\n      body: JSON.stringify(user),\n    })\n      .then((res) => res.json())\n      .then((data) => {\n        localStorage.setItem('token', data.token);\n      });\n  }\n\n  useEffect(() => {\n    fetch('/isUserAuth', {\n      headers: {\n        'x-access-token': localStorage.getItem('token'),\n      },\n    })\n      .then((res) => res.json())\n      .then((data) => (data.isLoggedIn ? navigate.push('/dashboard') : null));\n  }, []);\n\n  return (\n    <form onSubmit={(event) => handleLogin(event)}>\n      <input required type=\"email\" />\n      <input required type=\"password\" />\n      <input type=\"submit\" value=\"Submit\" />\n    </form>\n  );\n}\n\nexport {Login};"],"mappings":";;AAAA,SAASA,WAAW,QAAQ,kBAAkB;AAC9C,SAASC,SAAS,QAAQ,OAAO;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAElC,SAASC,KAAKA,CAAA,EAAG;EAAAC,EAAA;EACf,MAAMC,QAAQ,GAAGN,WAAW,EAAE;EAE9B,SAASO,WAAWA,CAACC,CAAC,EAAE;IACtBA,CAAC,CAACC,cAAc,EAAE;IAClB,MAAMC,IAAI,GAAGF,CAAC,CAACG,MAAM;IACrB,MAAMC,IAAI,GAAG;MACXC,QAAQ,EAAEH,IAAI,CAAC,CAAC,CAAC,CAACI,KAAK;MACvBC,QAAQ,EAAEL,IAAI,CAAC,CAAC,CAAC,CAACI;IACpB,CAAC;IAEDE,KAAK,CAAC,QAAQ,EAAE;MACdC,MAAM,EAAE,MAAM;MACdC,OAAO,EAAE;QACP,cAAc,EAAE;MAClB,CAAC;MACDC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAACT,IAAI;IAC3B,CAAC,CAAC,CACCU,IAAI,CAAEC,GAAG,IAAKA,GAAG,CAACC,IAAI,EAAE,CAAC,CACzBF,IAAI,CAAEG,IAAI,IAAK;MACdC,YAAY,CAACC,OAAO,CAAC,OAAO,EAAEF,IAAI,CAACG,KAAK,CAAC;IAC3C,CAAC,CAAC;EACN;EAEA3B,SAAS,CAAC,MAAM;IACde,KAAK,CAAC,aAAa,EAAE;MACnBE,OAAO,EAAE;QACP,gBAAgB,EAAEQ,YAAY,CAACG,OAAO,CAAC,OAAO;MAChD;IACF,CAAC,CAAC,CACCP,IAAI,CAAEC,GAAG,IAAKA,GAAG,CAACC,IAAI,EAAE,CAAC,CACzBF,IAAI,CAAEG,IAAI,IAAMA,IAAI,CAACK,UAAU,GAAGxB,QAAQ,CAACyB,IAAI,CAAC,YAAY,CAAC,GAAG,IAAK,CAAC;EAC3E,CAAC,EAAE,EAAE,CAAC;EAEN,oBACE5B,OAAA;IAAM6B,QAAQ,EAAGC,KAAK,IAAK1B,WAAW,CAAC0B,KAAK,CAAE;IAAAC,QAAA,gBAC5C/B,OAAA;MAAOgC,QAAQ;MAACC,IAAI,EAAC;IAAO;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,QAAG,eAC/BrC,OAAA;MAAOgC,QAAQ;MAACC,IAAI,EAAC;IAAU;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,QAAG,eAClCrC,OAAA;MAAOiC,IAAI,EAAC,QAAQ;MAACtB,KAAK,EAAC;IAAQ;MAAAuB,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,QAAG;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,QACjC;AAEX;AAACnC,EAAA,CAzCQD,KAAK;EAAA,QACKJ,WAAW;AAAA;AAAAyC,EAAA,GADrBrC,KAAK;AA2Cd,SAAQA,KAAK;AAAE,IAAAqC,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}